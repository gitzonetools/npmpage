"use strict";
const plugins = require("./mod.plugins");
const paths = require("../npmpage.paths");
exports.init = (configArg) => {
    let done = plugins.q.defer();
    plugins.smartfile.fs.ensureDirSync(paths.pagesDir);
    if (configArg.coverage) {
        plugins.smartfile.fs.copySync(paths.coverageDir, plugins.path.join(paths.pagesDir, 'coverage'));
    }
    ;
    if (configArg.host === 'gitlab') {
        plugins.beautylog.ok('Specified host is GitLab! Thus copying pages/ to public/');
        plugins.smartfile.fs.copySync('./pages', './public');
    }
    else if (configArg.host === null) {
        plugins.beautylog.log('no host specified!');
    }
    else {
        plugins.beautylog.warn(`Host ${configArg.host} not supported`);
    }
    done.resolve(configArg);
    return done.promise;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RzL21vZF9wdWJsaXNoL21vZC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHlDQUF3QztBQUN4QywwQ0FBeUM7QUFLOUIsUUFBQSxJQUFJLEdBQUcsQ0FBQyxTQUF5QjtJQUN4QyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFBO0lBQzVCLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUE7SUFDbEQsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDckIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUN6QixLQUFLLENBQUMsV0FBVyxFQUNqQixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFDLFVBQVUsQ0FBQyxDQUMvQyxDQUFBO0lBQ0wsQ0FBQztJQUFBLENBQUM7SUFDRixFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDOUIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsMERBQTBELENBQUMsQ0FBQTtRQUNoRixPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFDLFVBQVUsQ0FBQyxDQUFBO0lBQ3ZELENBQUM7SUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUE7SUFDL0MsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxTQUFTLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxDQUFBO0lBQ2xFLENBQUM7SUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBQ3ZCLENBQUMsQ0FBQSJ9