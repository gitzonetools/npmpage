"use strict";
const plugins = require("./npmpage.plugins");
const paths = require("./npmpage.paths");
const cli = require("./npmpage.cli");
exports.init = (configArg) => {
    let done = plugins.q.defer();
    plugins.smartfile.fs.ensureDirSync(paths.pagesDir);
    if (configArg.coverage) {
        plugins.smartfile.fs.copySync(paths.coverageDir, plugins.path.join(paths.pagesDir, "coverage"));
    }
    ;
    if (cli.npmpageCli.argv.host === "gitlab") {
        plugins.beautylog.ok("Specified host is GitLab! Thus copying pages/ to public/");
        plugins.smartfile.fs.copySync("./pages", "./public");
    }
    else {
        plugins.beautylog.warn("no host specified");
    }
    done.resolve(configArg);
    return done.promise;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnBtcGFnZS5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi90cy9ucG1wYWdlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsTUFBWSxPQUFPLFdBQU0sbUJBQW1CLENBQUMsQ0FBQTtBQUM3QyxNQUFZLEtBQUssV0FBTSxpQkFBaUIsQ0FBQyxDQUFBO0FBQ3pDLE1BQVksR0FBRyxXQUFNLGVBQ3JCLENBQUMsQ0FEbUM7QUFNekIsWUFBSSxHQUFHLENBQUMsU0FBeUI7SUFDeEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3QixPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25ELEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FDekIsS0FBSyxDQUFDLFdBQVcsRUFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxVQUFVLENBQUMsQ0FDL0MsQ0FBQztJQUNOLENBQUM7SUFBQSxDQUFDO0lBQ0YsRUFBRSxDQUFBLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFBLENBQUM7UUFDdEMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsMERBQTBELENBQUMsQ0FBQztRQUNqRixPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3hELENBQUM7SUFBQyxJQUFJLENBQUMsQ0FBQztRQUNKLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUNELElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7QUFDeEIsQ0FBQyxDQUFBIn0=